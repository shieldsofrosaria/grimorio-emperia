<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Navigation Prototype ‚Ä¢ Grimorio Emperia</title>
    <link rel="stylesheet" href="css/divine-baroque.css">
    <link rel="stylesheet" href="css/desktop-grimoire.css">
    <style>
        /* Prototype-only layout helpers (kept light; can be migrated to CSS files later) */
        body {
            background: var(--void-black);
            color: var(--text-primary);
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            gap: 20px;
            padding: 24px;
        }
        .frame {
            background: linear-gradient(145deg, rgba(26, 15, 46, 0.85), rgba(13, 10, 26, 0.9));
            border: 2px solid rgba(212, 175, 55, 0.35);
            border-radius: 16px;
            padding: 20px;
            box-shadow: 0 20px 50px rgba(0,0,0,0.45);
        }
        .brand {
            display: flex;
            align-items: center;
            gap: 12px;
            font-family: 'Cinzel Decorative', serif;
            font-size: 1.25rem;
            letter-spacing: 0.04em;
        }
        .brand .glyph {
            font-size: 1.6rem;
            color: var(--caerus-glow);
        }
        .top-nav {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
            margin-top: 12px;
        }
        .nav-btn {
            border: 1px solid rgba(212, 175, 55, 0.35);
            background: rgba(212, 175, 55, 0.08);
            color: var(--text-primary);
            padding: 10px 14px;
            border-radius: 10px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s ease;
        }
        .nav-btn.active {
            background: rgba(212, 175, 55, 0.22);
            border-color: var(--caerus-gold);
            box-shadow: 0 0 12px rgba(212, 175, 55, 0.35);
        }
        .tab-bar {
            display: flex;
            gap: 8px;
            flex-wrap: wrap;
            margin-bottom: 18px;
        }
        .tab-btn {
            border: 1px solid rgba(132, 122, 255, 0.3);
            background: rgba(132, 122, 255, 0.08);
            color: var(--text-primary);
            padding: 8px 12px;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.2s ease;
            font-weight: 600;
        }
        .tab-btn.active {
            background: rgba(132, 122, 255, 0.2);
            border-color: var(--arcane-blue);
            box-shadow: 0 0 10px rgba(132, 122, 255, 0.35);
        }
        .section-title {
            font-family: 'Cinzel Decorative', serif;
            font-size: 1.4rem;
            margin-bottom: 10px;
        }
        .grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
            gap: 12px;
        }
        .card {
            background: rgba(255,255,255,0.03);
            border: 1px solid rgba(255,255,255,0.08);
            border-radius: 12px;
            padding: 14px;
        }
        .card h4 {
            font-size: 1.05rem;
            margin-bottom: 6px;
        }
        .pill {
            display: inline-flex;
            align-items: center;
            gap: 6px;
            padding: 4px 10px;
            border-radius: 999px;
            background: rgba(212, 175, 55, 0.12);
            border: 1px solid rgba(212, 175, 55, 0.32);
            font-size: 0.9rem;
        }
        .content-section {
            display: none;
        }
        .content-section.active {
            display: block;
        }
    </style>
</head>
<body>
    <div class="frame">
        <div class="brand">
            <span class="glyph">‚ú¶</span>
            <div>
                <div>Grimorio Emperia</div>
                <div style="font-size: 0.9rem; color: var(--text-secondary);">Navigation Prototype</div>
            </div>
        </div>
        <div class="top-nav" id="topNav"></div>
    </div>

    <div class="frame">
        <div class="tab-bar" id="tabBar"></div>
        <div id="contentHost"></div>
    </div>

    <template id="section-template">
        <div class="content-section" data-section>
            <div class="section-title"></div>
            <div class="tab-panel" data-tabs></div>
        </div>
    </template>

    <template id="tab-template">
        <div class="tab-content" data-tab>
            <div class="grid" data-grid></div>
        </div>
    </template>

    <script>
        const sections = [
            {
                id: 'dashboard',
                label: 'üéÆ Dashboard',
                tabs: [
                    { id: 'activity', label: 'üÜï Activity', content: dashboardActivity },
                    { id: 'quests', label: '‚≠ê Quests', content: dashboardQuests }
                ]
            },
            {
                id: 'study',
                label: 'üìö Study',
                tabs: [
                    { id: 'notes', label: 'üìù Notes', content: studyNotes },
                    { id: 'working', label: 'üåø Working Log', content: studyWorking }
                ]
            },
            {
                id: 'practice',
                label: 'üéØ Practice',
                tabs: [
                    { id: 'toolkit', label: 'üõ†Ô∏è Toolkit', content: practiceToolkit },
                    { id: 'moon', label: 'üåô Moon Tracker', content: practiceMoon },
                    { id: 'sigil', label: '‚ú® Sigil', content: practiceSigil },
                    { id: 'esperanto', label: 'üó£Ô∏è Esperanto', content: practiceEsperanto }
                ]
            },
            {
                id: 'you',
                label: 'üë§ You',
                tabs: [
                    { id: 'profile', label: 'üë§ Profile', content: youProfile },
                    { id: 'achievements', label: 'üèÜ Achievements', content: youAchievements },
                    { id: 'reflection', label: 'üìì Reflection', content: youReflection },
                    { id: 'progress', label: 'üìä Progress', content: youProgress }
                ]
            },
            {
                id: 'volumes',
                label: 'üìñ Volumes',
                tabs: [
                    { id: 'volume1', label: 'I', content: () => volumeCard('Volume I') },
                    { id: 'volume2', label: 'II', content: () => volumeCard('Volume II') },
                    { id: 'volume3', label: 'III', content: () => volumeCard('Volume III') },
                    { id: 'volume4', label: 'IV', content: () => volumeCard('Volume IV') },
                    { id: 'volume5', label: 'V', content: () => volumeCard('Volume V') }
                ]
            }
        ];

        const topNav = document.getElementById('topNav');
        const tabBar = document.getElementById('tabBar');
        const contentHost = document.getElementById('contentHost');

        let activeSection = 'dashboard';
        let activeTab = 'activity';

        function renderTopNav() {
            topNav.innerHTML = sections.map(sec => {
                const active = sec.id === activeSection ? 'active' : '';
                return `<button class="nav-btn ${active}" data-section="${sec.id}" aria-pressed="${active === 'active'}">${sec.label}</button>`;
            }).join('');
        }

        function renderTabs() {
            const section = sections.find(s => s.id === activeSection);
            if (!section) return;
            tabBar.innerHTML = section.tabs.map(tab => {
                const active = tab.id === activeTab ? 'active' : '';
                return `<button class="tab-btn ${active}" data-tab="${tab.id}" aria-pressed="${active === 'active'}">${tab.label}</button>`;
            }).join('');
        }

        function renderContent() {
            const section = sections.find(s => s.id === activeSection);
            if (!section) return;
            const tab = section.tabs.find(t => t.id === activeTab) || section.tabs[0];
            activeTab = tab.id;

            const data = tab.content();
            const cards = data.map(item => `
                <div class="card">
                    <div class="pill">${item.icon} ${item.tag}</div>
                    <h4>${item.title}</h4>
                    <p style="color: var(--text-secondary); line-height: 1.6;">${item.body}</p>
                </div>
            `).join('');

            contentHost.innerHTML = `
                <div class="section-title">${section.label} ‚Ä¢ ${tab.label}</div>
                <div class="grid">${cards}</div>
            `;
        }

        topNav.addEventListener('click', (e) => {
            const btn = e.target.closest('[data-section]');
            if (!btn) return;
            activeSection = btn.dataset.section;
            const section = sections.find(s => s.id === activeSection);
            activeTab = section.tabs[0].id;
            renderTopNav();
            renderTabs();
            renderContent();
        });

        tabBar.addEventListener('click', (e) => {
            const btn = e.target.closest('[data-tab]');
            if (!btn) return;
            activeTab = btn.dataset.tab;
            renderTabs();
            renderContent();
        });

        function dashboardActivity() {
            return [
                { icon: 'üÜï', tag: 'Activity', title: 'No recent activity', body: 'Complete quests, log workings, or update your profile to see activity here.' },
                { icon: 'üåô', tag: 'Phase', title: 'Tonight‚Äôs Moon', body: 'Hook to moon tracker data.' }
            ];
        }
        function dashboardQuests() {
            return [
                { icon: 'üìÖ', tag: 'Daily', title: 'Daily Quests', body: 'Display daily quest list with checkboxes.' },
                { icon: 'üìÜ', tag: 'Weekly', title: 'Weekly Quests', body: 'Show weekly quest status and resets.' },
                { icon: 'üìä', tag: 'Monthly', title: 'Monthly Quests', body: 'Monthly objectives and progress.' }
            ];
        }
        function studyNotes() {
            return [
                { icon: 'üìù', tag: 'Notes', title: 'Study Notes', body: 'List or create notes with rich text editor hooks.' },
                { icon: 'üí°', tag: 'Idea', title: 'Open Threads', body: 'Surface draft notes or pinned ideas.' }
            ];
        }
        function studyWorking() {
            return [
                { icon: 'üåø', tag: 'Log', title: 'Working Log', body: 'Form to record practice sessions and outcomes.' },
                { icon: 'üìà', tag: 'Stats', title: 'Usage Trends', body: 'Track materials and outcomes over time.' }
            ];
        }
        function practiceToolkit() {
            return [
                { icon: 'üõ†Ô∏è', tag: 'Toolkit', title: 'Essential Tools', body: 'Checklist of physical and digital tools.' },
                { icon: '‚ö°', tag: 'Ready', title: 'Prep State', body: 'Show readiness or missing items.' }
            ];
        }
        function practiceMoon() {
            return [
                { icon: 'üåô', tag: 'Phase', title: 'Current Phase', body: 'Bind to moon tracker visual.' },
                { icon: '‚è≥', tag: 'Next', title: 'Time to Next Phase', body: 'Countdown for planning workings.' }
            ];
        }
        function practiceSigil() {
            return [
                { icon: '‚ú®', tag: 'Sigil', title: 'Sigil Generator', body: 'Generate sigils from intentions.' },
                { icon: 'üß≠', tag: 'Guide', title: 'Usage Guide', body: 'Steps to charge and deploy sigils.' }
            ];
        }
        function practiceEsperanto() {
            return [
                { icon: 'üó£Ô∏è', tag: 'Phrasebook', title: 'Spell Phrases', body: 'Reference Esperanto incantations or affirmations.' }
            ];
        }
        function youProfile() {
            return [
                { icon: 'üë§', tag: 'Profile', title: 'Scribe Profile', body: 'Display name, patron virtue, motto, and avatar.' },
                { icon: 'üìú', tag: 'Lore', title: 'Backstory', body: 'Bio and oath date highlight.' }
            ];
        }
        function youAchievements() {
            return [
                { icon: 'üèÜ', tag: 'Milestones', title: 'Achievements', body: 'Unlocked badges and upcoming goals.' }
            ];
        }
        function youReflection() {
            return [
                { icon: 'üìì', tag: 'Journal', title: 'Reflection Journal', body: 'In-character reflection editor and history.' }
            ];
        }
        function youProgress() {
            return [
                { icon: 'üìä', tag: 'Virtues', title: 'Virtue Progress', body: 'Thoth / Ma‚Äôat / Caerus points and ranks.' },
                { icon: '‚≠ê', tag: 'Rank', title: 'Overall Rank', body: 'Rank ladder and XP progress.' }
            ];
        }
        function volumeCard(label) {
            return [
                { icon: 'üìñ', tag: label, title: 'Study Volume', body: 'Embed or link to the corresponding volume content.' }
            ];
        }

        // Initialize
        renderTopNav();
        renderTabs();
        renderContent();
    </script>
</body>
</html>
